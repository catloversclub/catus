generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                  String  @id @default(uuid(7))
  kakaoId             String  @unique @map("kakao_id")
  nickname            String
  isLivingWithCat     Boolean @default(false) @map("is_living_with_cat")
  hasAgreedToTerms    Boolean @default(false) @map("has_agreed_to_term")
  favoriteAppearance  Int[]   @default([]) @map("favorite_appearance")
  favoritePersonality Int[]   @default([]) @map("favorite_personality")
  email               String? @unique
  phone               String?
  profileImageUrl     String? @map("profile_image_url")

  Cat Cat[]

  @@map("user")
}

enum Gender {
  MALE
  FEMALE
  UNKNOWN
}

model Cat {
  id              String    @id @default(uuid(7))
  name            String
  gender          Gender    @default(UNKNOWN)
  profileImageUrl String?   @map("profile_image_url")
  appearance      Int[]     @default([])
  personality     Int[]     @default([])
  birthDate       DateTime? @map("birth_date") @db.Date
  breed           String?
  type            Int?

  butler   User   @relation(fields: [butlerId], references: [id])
  butlerId String

  @@map("cat")
}
